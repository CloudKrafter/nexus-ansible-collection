# defaults file for nexus3-config-as-code
nexus_protocol: http
nexus_hostname: localhost
nexus_port: 8081
nexus_admin_username: admin
nexus_admin_password: changeme
nexus_enable_pro: false

nexus_config_maven: true

__nexus_repos_maven_hosted_defaults:
  online: true
  format: maven2
  type: hosted
  storage:
    blobStoreName: default
    strictContentTypeValidation: false
    writePolicy: allow_once
  cleanup:
  component:
    proprietaryComponents: false
  maven:
    versionPolicy: MIXED
    layoutPolicy: STRICT
    contentDisposition: INLINE

__nexus_repos_maven_proxy_defaults:
  format: maven2
  type: proxy
  online: true
  storage:
    blobStoreName: default
    strictContentTypeValidation: true
  cleanup:
  proxy:
    remoteUrl: https://remote.repository.com
    contentMaxAge: 1440
    metadataMaxAge: 1440
  negativeCache:
    enabled: true
    timeToLive: 1440
  httpClient:
    blocked: false
    autoBlock: true
    connection:
      retries: 0
      userAgentSuffix: string
      timeout: 60
      enableCircularRedirects: false
      enableCookies: false
      useTrustStore: false
    authentication:
  routingRule:
  replication:
  maven:
    versionPolicy: MIXED
    layoutPolicy: STRICT
    contentDisposition: ATTACHMENT

nexus_repos_maven_hosted:
  - name: repo-1
    maven:
      versionPolicy: RELEASE
      layoutPolicy: STRICT
      contentDisposition: INLINE
  - name: maven-snapshots
    storage:
      strictContentTypeValidation: true
      writePolicy: ALLOW_ONCE
    maven:
      contentDisposition: INLINE
      layoutPolicy: STRICT
      versionPolicy: SNAPSHOT

  - name: maven-releases
    online: true
    storage:
      strictContentTypeValidation: true
    maven:
      contentDisposition: INLINE
      layoutPolicy: STRICT
      versionPolicy: RELEASE

  - name: repo-2

nexus_repos_maven_proxy:
  - name: maven-central
    proxy:
      remoteUrl: https://repo1.maven.org/maven2/
      contentMaxAge: -1
      metadataMaxAge: 1440
    negativeCache:
      enabled: true
      timeToLive: 1440
    httpClient:
      blocked: false
      autoBlock: true
  - name: maven-proxy-2
    proxy:
      remoteUrl: https://repo1.maven.org/maven2/
      contentMaxAge: -1
      metadataMaxAge: 1440

nexus_repos_maven_group: []

# If you set nexus_enable_pro to true, you must provide a base64 encoded license file
# Either by setting the NEXUS_LICENSE_B64 environment variable or by providing the base64 encoded license file directly below.
nexus_license_b64: # <your Nexus .lic license file encoded into a base64 string>

# where to obtain the license file from or where to store it during an playbook run
nexus_license_path: files/license.lic
